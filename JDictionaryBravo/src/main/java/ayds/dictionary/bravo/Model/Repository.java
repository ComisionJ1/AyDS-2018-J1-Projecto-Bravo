package ayds.dictionary.bravo.Model;import ayds.dictionary.bravo.Model.ErrorHandler.ErrorHandler;import ayds.dictionary.bravo.Model.LocalSource.LocalSource;import ayds.dictionary.bravo.Model.RemoteSource.RemoteSourceServices;import ayds.dictionary.bravo.Model.RemoteSource.Replacer;import java.util.ArrayList;import java.util.List;public class Repository {    private final LocalSource localSource;    private final RemoteSourceServices remoteSourceServices;    private final ErrorHandler errorHandler;    public Repository(LocalSource localSource, ErrorHandler errorHandler, RemoteSourceServices remoteSourceServices) {        this.localSource = localSource;        this.errorHandler = errorHandler;        this.remoteSourceServices = remoteSourceServices;    }    public List<Article> getArticles(String term) {        List<Article> articles = new ArrayList<>();        Article article;        List<Exception> exceptions=new ArrayList<>();        for (Source source: remoteSourceServices.getSources()){            try {                article = localSource.getMeaning(source, term);                if (article == null) {                    article = remoteSourceServices.getArticle(source, term);                    article.setMeaning(Replacer.replace(article.getMeaning()));                    localSource.saveArticle(article);                } else {                    article.addPrefix();                }                articles.add(article);            } catch (Exception e) {                exceptions.add(e);                articles.add(new EmptyArticle(term,source));            }        }        if(!exceptions.isEmpty()) {            errorHandler.hasError(exceptions);        }        return articles;    }}