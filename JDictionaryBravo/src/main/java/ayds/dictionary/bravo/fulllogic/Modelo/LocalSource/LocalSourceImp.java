package ayds.dictionary.bravo.fulllogic.Modelo.LocalSource;import ayds.dictionary.bravo.fulllogic.Modelo.Article;import java.sql.*;public class LocalSourceImp implements LocalSource {    public LocalSourceImp(){        createNewDatabase();    }    private static void createNewDatabase() {        String url = "jdbc:sqlite:./dictionary.db";        try (Connection connection = DriverManager.getConnection(url)) {            if (connection != null) {                DatabaseMetaData meta = connection.getMetaData();                System.out.println("The driver name is " + meta.getDriverName());                System.out.println("A new database has been created.");                Statement statement = connection.createStatement();                statement.setQueryTimeout(30);  // set timeout to 30 sec.                ResultSet rs = statement.executeQuery("SELECT * FROM sqlite_master");                if (rs.next()) {                    if (!rs.getString(2).equals("terms")) {                        statement.executeUpdate("create table terms (id INTEGER PRIMARY KEY AUTOINCREMENT," +                                " term string, meaning string, source integer)");                    }                }                // En el caso de que la base de datos o la tabla no este creada                else {                    statement.executeUpdate("create table terms (id INTEGER PRIMARY KEY AUTOINCREMENT," +                            " term string, meaning string, source integer)");                }            }        } catch (SQLException e) {            System.out.println(e.getMessage());            }    }    public Article getMeaning(String term){        Article article=null;        Connection connection = null;        try        {            // create a database connection            connection = DriverManager.getConnection("jdbc:sqlite:./dictionary.db");            Statement statement = connection.createStatement();            statement.setQueryTimeout(30);  // set timeout to 30 sec.            ResultSet rs = statement.executeQuery("select * from terms WHERE term = '" + term + "'" );            if (rs.next())                article=new Article(term,rs.getString("meaning"));            return article;        }        catch(SQLException e)        {            // if the error message is "out of memory",            // it probably means no database file is found            System.err.println("Get term error " + e.getMessage());        }        finally        {            try            {                if(connection != null)                    connection.close();            }            catch(SQLException e)            {                // connection close failed.                System.err.println(e);            }        }        return null;    }    public void saveArticle(Article article) {        Connection connection = null;        String term = article.getTerm();        if (!article.isMeaningNull()) {            String meaning = article.getMeaning();            try {                // create a database connection                connection = DriverManager.getConnection("jdbc:sqlite:./dictionary.db");                Statement statement = connection.createStatement();                statement.setQueryTimeout(30);  // set timeout to 30 sec.                System.out.println("INSERT  " + term + ", " + meaning);                statement.executeUpdate("insert into terms values(null, '" + term + "', '" + meaning + "', 1)");            } catch (SQLException e) {                System.err.println("Error saving " + e.getMessage());            } finally {                try {                    if (connection != null)                        connection.close();                } catch (SQLException e) {                    // connection close failed.                    System.err.println(e);                }            }        }    }}